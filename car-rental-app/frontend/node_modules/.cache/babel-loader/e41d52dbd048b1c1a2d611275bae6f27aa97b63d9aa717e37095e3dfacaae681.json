{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ribeivi\\\\OneDrive - Konecranes Plc\\\\Desktop\\\\MEU\\\\FATEC\\\\5\\xBA Sem\\\\Computa\\xE7\\xE3o em nuvem I\\\\AV1\\\\car-rental-app\\\\frontend\\\\src\\\\components\\\\RentalForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { fetchClientsData, fetchVehiclesData, createRental, updateRental } from '../services/api';\nimport './RentalForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RentalForm = ({\n  selectedRental,\n  setSelectedRental,\n  refreshRentals\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    clientId: '',\n    vehicleId: '',\n    startDate: '',\n    endDate: '',\n    totalPrice: ''\n  });\n  const [clients, setClients] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const clientsData = await fetchClientsData();\n        const vehiclesData = await fetchVehiclesData();\n        setClients(clientsData);\n        setVehicles(vehiclesData);\n      } catch (error) {\n        console.error('Erro ao carregar dados:', error);\n      }\n    };\n    loadData();\n  }, []);\n  useEffect(() => {\n    if (selectedRental) {\n      setFormData({\n        ...selectedRental,\n        startDate: selectedRental.startDate.split('T')[0],\n        // Ajusta o formato da data\n        endDate: selectedRental.endDate.split('T')[0] // Ajusta o formato da data\n      });\n    }\n  }, [selectedRental]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (selectedRental) {\n        await updateRental(selectedRental.id, formData);\n        alert('Locação atualizada com sucesso!');\n      } else {\n        await createRental(formData);\n        alert('Locação criada com sucesso!');\n      }\n      setFormData({\n        clientId: '',\n        vehicleId: '',\n        startDate: '',\n        endDate: '',\n        totalPrice: ''\n      });\n      setSelectedRental(null);\n      refreshRentals();\n    } catch (error) {\n      console.error('Erro ao salvar locação:', error);\n      alert('Erro ao salvar locação.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Cliente:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"clientId\",\n      value: formData.clientId,\n      onChange: handleChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Selecione um cliente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: client.id,\n        children: client.name\n      }, client.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Ve\\xEDculo:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"vehicleId\",\n      value: formData.vehicleId,\n      onChange: handleChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Selecione um ve\\xEDculo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: vehicle.id,\n        children: [vehicle.brand, \" - \", vehicle.model]\n      }, vehicle.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Data de In\\xEDcio:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"startDate\",\n      value: formData.startDate,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Data de T\\xE9rmino:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"endDate\",\n      value: formData.endDate,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Pre\\xE7o Total:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"totalPrice\",\n      value: formData.totalPrice,\n      onChange: handleChange,\n      placeholder: \"Digite o pre\\xE7o total\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Salvar Loca\\xE7\\xE3o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n_s(RentalForm, \"xfZ1F/hhbEfrlsY5tQIrUASfCgk=\");\n_c = RentalForm;\nexport default RentalForm;\nvar _c;\n$RefreshReg$(_c, \"RentalForm\");","map":{"version":3,"names":["React","useState","useEffect","fetchClientsData","fetchVehiclesData","createRental","updateRental","jsxDEV","_jsxDEV","RentalForm","selectedRental","setSelectedRental","refreshRentals","_s","formData","setFormData","clientId","vehicleId","startDate","endDate","totalPrice","clients","setClients","vehicles","setVehicles","loadData","clientsData","vehiclesData","error","console","split","handleChange","e","name","value","target","handleSubmit","preventDefault","id","alert","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","client","vehicle","brand","model","type","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/ribeivi/OneDrive - Konecranes Plc/Desktop/MEU/FATEC/5º Sem/Computação em nuvem I/AV1/car-rental-app/frontend/src/components/RentalForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchClientsData, fetchVehiclesData, createRental, updateRental } from '../services/api';\nimport './RentalForm.css';\n\nconst RentalForm = ({ selectedRental, setSelectedRental, refreshRentals }) => {\n    const [formData, setFormData] = useState({\n        clientId: '',\n        vehicleId: '',\n        startDate: '',\n        endDate: '',\n        totalPrice: '',\n    });\n    const [clients, setClients] = useState([]);\n    const [vehicles, setVehicles] = useState([]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            try {\n                const clientsData = await fetchClientsData();\n                const vehiclesData = await fetchVehiclesData();\n                setClients(clientsData);\n                setVehicles(vehiclesData);\n            } catch (error) {\n                console.error('Erro ao carregar dados:', error);\n            }\n        };\n\n        loadData();\n    }, []);\n\n    useEffect(() => {\n        if (selectedRental) {\n            setFormData({\n                ...selectedRental,\n                startDate: selectedRental.startDate.split('T')[0], // Ajusta o formato da data\n                endDate: selectedRental.endDate.split('T')[0],   // Ajusta o formato da data\n            });\n        }\n    }, [selectedRental]);\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({ ...formData, [name]: value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            if (selectedRental) {\n                await updateRental(selectedRental.id, formData);\n                alert('Locação atualizada com sucesso!');\n            } else {\n                await createRental(formData);\n                alert('Locação criada com sucesso!');\n            }\n            setFormData({\n                clientId: '',\n                vehicleId: '',\n                startDate: '',\n                endDate: '',\n                totalPrice: '',\n            });\n            setSelectedRental(null);\n            refreshRentals();\n        } catch (error) {\n            console.error('Erro ao salvar locação:', error);\n            alert('Erro ao salvar locação.');\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <label>Cliente:</label>\n            <select name=\"clientId\" value={formData.clientId} onChange={handleChange}>\n                <option value=\"\">Selecione um cliente</option>\n                {clients.map((client) => (\n                    <option key={client.id} value={client.id}>\n                        {client.name}\n                    </option>\n                ))}\n            </select>\n\n            <label>Veículo:</label>\n            <select name=\"vehicleId\" value={formData.vehicleId} onChange={handleChange}>\n                <option value=\"\">Selecione um veículo</option>\n                {vehicles.map((vehicle) => (\n                    <option key={vehicle.id} value={vehicle.id}>\n                        {vehicle.brand} - {vehicle.model}\n                    </option>\n                ))}\n            </select>\n\n            <label>Data de Início:</label>\n            <input\n                type=\"date\"\n                name=\"startDate\"\n                value={formData.startDate}\n                onChange={handleChange}\n            />\n\n            <label>Data de Término:</label>\n            <input\n                type=\"date\"\n                name=\"endDate\"\n                value={formData.endDate}\n                onChange={handleChange}\n            />\n\n            <label>Preço Total:</label>\n            <input\n                type=\"number\"\n                name=\"totalPrice\"\n                value={formData.totalPrice}\n                onChange={handleChange}\n                placeholder=\"Digite o preço total\"\n            />\n\n            <button type=\"submit\">Salvar Locação</button>\n        </form>\n    );\n};\n\nexport default RentalForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}