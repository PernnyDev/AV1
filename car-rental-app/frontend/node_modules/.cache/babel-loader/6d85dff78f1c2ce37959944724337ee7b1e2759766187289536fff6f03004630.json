{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ribeivi\\\\OneDrive - Konecranes Plc\\\\Desktop\\\\MEU\\\\FATEC\\\\5\\xBA Sem\\\\Computa\\xE7\\xE3o em nuvem I\\\\AV1\\\\car-rental-app\\\\frontend\\\\src\\\\components\\\\RentalForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { fetchClientsData, fetchVehiclesData, createRental, updateRental } from '../services/api';\nimport './RentalForm.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RentalForm = ({\n  selectedRental,\n  setSelectedRental,\n  refreshRentals\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    clientId: '',\n    vehicleId: '',\n    startDate: '',\n    endDate: '',\n    totalPrice: ''\n  });\n  const [clients, setClients] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const clientsData = await fetchClientsData();\n        const vehiclesData = await fetchVehiclesData();\n        setClients(clientsData);\n        setVehicles(vehiclesData);\n      } catch (error) {\n        console.error('Erro ao carregar dados:', error);\n      }\n    };\n    loadData();\n  }, []);\n  useEffect(() => {\n    if (selectedRental) {\n      setFormData({\n        clientId: selectedRental.clientId,\n        vehicleId: selectedRental.vehicleId,\n        startDate: selectedRental.startDate.split('T')[0],\n        // Ajusta o formato da data\n        endDate: selectedRental.endDate.split('T')[0],\n        // Ajusta o formato da data\n        totalPrice: selectedRental.totalPrice\n      });\n    }\n  }, [selectedRental]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (selectedRental) {\n        await updateRental(selectedRental.id, formData);\n        alert('Locação atualizada com sucesso!');\n      } else {\n        await createRental(formData);\n        alert('Locação criada com sucesso!');\n      }\n      resetForm();\n      refreshRentals();\n    } catch (error) {\n      console.error('Erro ao salvar locação:', error);\n      alert('Erro ao salvar locação.');\n    }\n  };\n  const resetForm = () => {\n    setFormData({\n      clientId: '',\n      vehicleId: '',\n      startDate: '',\n      endDate: '',\n      totalPrice: ''\n    });\n    setSelectedRental(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Cliente:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"clientId\",\n        value: formData.clientId,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecione um cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: client.id,\n          children: client.name\n        }, client.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Ve\\xEDculo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"vehicleId\",\n        value: formData.vehicleId,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecione um ve\\xEDculo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: vehicle.id,\n          children: [vehicle.brand, \" - \", vehicle.model]\n        }, vehicle.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Data de In\\xEDcio:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"startDate\",\n        value: formData.startDate,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Data de T\\xE9rmino:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"endDate\",\n        value: formData.endDate,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pre\\xE7o Total:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"totalPrice\",\n        value: formData.totalPrice,\n        onChange: handleChange,\n        placeholder: \"Digite o pre\\xE7o total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Salvar Loca\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: resetForm,\n        children: \"Nova Loca\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(RentalForm, \"xfZ1F/hhbEfrlsY5tQIrUASfCgk=\");\n_c = RentalForm;\nexport default RentalForm;\nvar _c;\n$RefreshReg$(_c, \"RentalForm\");","map":{"version":3,"names":["React","useState","useEffect","fetchClientsData","fetchVehiclesData","createRental","updateRental","jsxDEV","_jsxDEV","Fragment","_Fragment","RentalForm","selectedRental","setSelectedRental","refreshRentals","_s","formData","setFormData","clientId","vehicleId","startDate","endDate","totalPrice","clients","setClients","vehicles","setVehicles","loadData","clientsData","vehiclesData","error","console","split","handleChange","e","name","value","target","handleSubmit","preventDefault","id","alert","resetForm","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","client","vehicle","brand","model","type","placeholder","style","marginTop","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ribeivi/OneDrive - Konecranes Plc/Desktop/MEU/FATEC/5º Sem/Computação em nuvem I/AV1/car-rental-app/frontend/src/components/RentalForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchClientsData, fetchVehiclesData, createRental, updateRental } from '../services/api';\nimport './RentalForm.css';\n\nconst RentalForm = ({ selectedRental, setSelectedRental, refreshRentals }) => {\n    const [formData, setFormData] = useState({\n        clientId: '',\n        vehicleId: '',\n        startDate: '',\n        endDate: '',\n        totalPrice: '',\n    });\n    const [clients, setClients] = useState([]);\n    const [vehicles, setVehicles] = useState([]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            try {\n                const clientsData = await fetchClientsData();\n                const vehiclesData = await fetchVehiclesData();\n                setClients(clientsData);\n                setVehicles(vehiclesData);\n            } catch (error) {\n                console.error('Erro ao carregar dados:', error);\n            }\n        };\n\n        loadData();\n    }, []);\n\n    useEffect(() => {\n        if (selectedRental) {\n            setFormData({\n                clientId: selectedRental.clientId,\n                vehicleId: selectedRental.vehicleId,\n                startDate: selectedRental.startDate.split('T')[0], // Ajusta o formato da data\n                endDate: selectedRental.endDate.split('T')[0],   // Ajusta o formato da data\n                totalPrice: selectedRental.totalPrice,\n            });\n        }\n    }, [selectedRental]);\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({ ...formData, [name]: value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            if (selectedRental) {\n                await updateRental(selectedRental.id, formData);\n                alert('Locação atualizada com sucesso!');\n            } else {\n                await createRental(formData);\n                alert('Locação criada com sucesso!');\n            }\n            resetForm();\n            refreshRentals();\n        } catch (error) {\n            console.error('Erro ao salvar locação:', error);\n            alert('Erro ao salvar locação.');\n        }\n    };\n\n    const resetForm = () => {\n        setFormData({\n            clientId: '',\n            vehicleId: '',\n            startDate: '',\n            endDate: '',\n            totalPrice: '',\n        });\n        setSelectedRental(null);\n    };\n\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <label>Cliente:</label>\n                <select name=\"clientId\" value={formData.clientId} onChange={handleChange}>\n                    <option value=\"\">Selecione um cliente</option>\n                    {clients.map((client) => (\n                        <option key={client.id} value={client.id}>\n                            {client.name}\n                        </option>\n                    ))}\n                </select>\n\n                <label>Veículo:</label>\n                <select name=\"vehicleId\" value={formData.vehicleId} onChange={handleChange}>\n                    <option value=\"\">Selecione um veículo</option>\n                    {vehicles.map((vehicle) => (\n                        <option key={vehicle.id} value={vehicle.id}>\n                            {vehicle.brand} - {vehicle.model}\n                        </option>\n                    ))}\n                </select>\n\n                <label>Data de Início:</label>\n                <input\n                    type=\"date\"\n                    name=\"startDate\"\n                    value={formData.startDate}\n                    onChange={handleChange}\n                />\n\n                <label>Data de Término:</label>\n                <input\n                    type=\"date\"\n                    name=\"endDate\"\n                    value={formData.endDate}\n                    onChange={handleChange}\n                />\n\n                <label>Preço Total:</label>\n                <input\n                    type=\"number\"\n                    name=\"totalPrice\"\n                    value={formData.totalPrice}\n                    onChange={handleChange}\n                    placeholder=\"Digite o preço total\"\n                />\n\n                <button type=\"submit\">Salvar Locação</button>\n            </form>\n            <div style={{ marginTop: '10px' }}>\n                <button type=\"button\" onClick={resetForm}>\n                    Nova Locação\n                </button>\n            </div>\n        </>\n    );\n};\n\nexport default RentalForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}